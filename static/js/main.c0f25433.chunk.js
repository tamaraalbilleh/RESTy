(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(12),c=n.n(s),i=(n(18),n(11)),o=n(3),l=n(4),u=n(2),h=n(6),d=n(5),b=(n(19),n(20),n(0)),j=function(){return Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("h1",{children:" RESTy "})})},p=(n(22),function(){return Object(b.jsx)("footer",{className:"App-footer",children:"&copy 2021 Tamara Amin"})}),f=n(7),O=n.n(f),m=n(13),x=n(9),v=(n(24),function(t){return t.condition?t.children:null});n(25);var y=function(){return Object(b.jsx)("div",{className:"laod"})},g=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleInput=function(t){var e=t.target.value;a.setState({section:e})},a.handleClick=function(t){t.preventDefault();var e=t.target.value;a.setState({method:e})},a.submitHandler=function(){var t=Object(x.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),setTimeout(Object(x.a)(O.a.mark((function t(){var n,r,s,c,i,o,l,u,h,d,b,j;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.props.meth||!a.props.ur){t.next=12;break}if(r=a.props.meth,s=a.props.ur,!a.props.bod){t.next=9;break}return t.next=6,JSON.stringify(a.props.bod);case 6:c=t.sent,t.next=10;break;case 9:c=e.target.body.value;case 10:t.next=15;break;case 12:r=a.state.method,s=a.state.section,c=e.target.body.value;case 15:if("PUT"!==r&&"POST"!==r){t.next=21;break}return t.next=18,fetch(s,{method:r,body:c,mode:"cors",headers:{"Content-Type":"application/json"}});case 18:n=t.sent,t.next=25;break;case 21:if("GET"!==r&&"DELETE"!==r){t.next=25;break}return t.next=24,fetch(s,{method:r});case 24:n=t.sent;case 25:return a.setState({body:c,flag:!a.state.flag}),t.next=28,fetch(s).then((function(t){var e,n=Object(m.a)(t.headers.entries());try{for(n.s();!(e=n.n()).done;){for(var a=e.value,r=a.length,s="",c=0;c<r;c++)c%2===0&&(s=s+a[c]+": "+a[c+1]);return s}}catch(i){n.e(i)}finally{n.f()}}));case 28:return i=t.sent,t.next=31,n.json();case 31:o=t.sent,a.setState({results:o,body:c,flag:!a.state.flag}),l=[],o&&(u="".concat(a.state.method,",").concat(a.state.section,",").concat(c),(h=JSON.parse(localStorage.getItem("request")))&&Object.values(h).map((function(t){l.includes(t)||l.push(t)})),l.includes(u)||(l.push(u),localStorage.setItem("request",JSON.stringify(l)))),d=o.results?o.results:o,b=o.count?o.count:o.length,j=a.state.flag,a.props.handler(d,b,i,l,j);case 39:case"end":return t.stop()}}),t)}))),3e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.toggle=function(){a.setState({flag:!a.state.flag})},a.state={section:"http://localhost:3000",method:"GET",body:{},results:[],flag:!1},a.submitHandler=a.submitHandler.bind(Object(u.a)(a)),a.toggle=a.toggle.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(b.jsx)("label",{for:"url-input",children:"URL : "}),Object(b.jsx)("input",{id:"inputs",type:"text",name:"inputurl",onChange:this.handleInput}),Object(b.jsxs)("div",{id:"formd",children:[Object(b.jsxs)("h4",{children:[this.props.meth||this.state.method,"  :  ",this.props.ur||this.state.section," "]}),Object(b.jsx)("input",{id:"submit",type:"submit",value:"Go!"}),Object(b.jsx)("br",{})]}),Object(b.jsx)(v,{condition:this.state.flag,children:Object(b.jsx)(y,{})}),Object(b.jsx)("button",{id:"get",onClick:this.handleClick,value:"GET",children:"GET"}),Object(b.jsx)("button",{id:"post",onClick:this.handleClick,value:"POST",children:"POST"}),Object(b.jsx)("button",{id:"put",onClick:this.handleClick,value:"PUT",children:"PUT"}),Object(b.jsx)("button",{id:"delete",onClick:this.handleClick,value:"DELETE",children:"DELETE"}),Object(b.jsx)("textarea",{rows:"4",cols:"50",id:"textarea",name:"body",placeholder:"please enter a json body"})]})})}}]),n}(r.a.Component),k=n(10),S=n.n(k),C=(n(29),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return console.log("props : ",this.props),Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)("div",{id:"results",children:[" results for your search :",Object(b.jsx)("p",{children:"Headers :"})," ",Object(b.jsx)(S.a,{id:"json-pretty",data:this.props.header}),Object(b.jsxs)("p",{children:["count is ",this.props.count]}),Object(b.jsx)("p",{children:"Results : "}),Object(b.jsx)(S.a,{id:"json-pretty",data:this.props.results})]})})}}]),n}(r.a.Component)),T=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).hisClickHandler=function(t){t.preventDefault();var e=[],n=JSON.parse(localStorage.getItem("request"));if(n){Object.values(n).map((function(t){e.includes(t)||e.push(t)}));var r=t.target.method.value,s=t.target.url.value,c=t.target.body.value;a.props.after(r,s,c)}},a.hisClickHandler=a.hisClickHandler.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsx)("ul",{children:this.props.arr.map((function(e){var n,a=e.split(","),s=a[0],c=a[1];if(a[2]&&(n=a[2]),a.length>3)for(var i=3;i<a.length;i++)n+=a[i];return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)("form",{onSubmit:t.hisClickHandler,children:[Object(b.jsx)("input",{type:"hidden",value:a[0],name:"method"}),Object(b.jsx)("input",{type:"hidden",value:a[1],name:"url"}),Object(b.jsx)("input",{type:"hidden",value:a[2]+a[3],name:"body"}),Object(b.jsxs)("li",{children:[Object(b.jsx)("button",{type:"submit",children:s}),"   ",c," , body is ",n]})]})})}))})})}}]),n}(r.a.Component),E=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).afterSubmit=function(t,e,n){a.setState({method:t,URL:e,body:n})},a.componentDidMount=function(){var t=[],e=JSON.parse(localStorage.getItem("request"));e&&Object.values(e).map((function(e){t.includes(e)||t.push(e)})),a.setState({array:t})},a.state={results:["search result will appear here :"],count:0,header:"headers will be displayed here",array:[],method:"",URL:"",body:{},flag:!1},a.handleForm=a.handleForm.bind(Object(u.a)(a)),a.handleHistory=a.handleHistory.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"handleForm",value:function(t,e,n,a,r){this.setState({results:t,count:e,header:n,array:a,flag:r})}},{key:"handleHistory",value:function(t,e){this.setState(Object(i.a)(Object(i.a)({},this.state),{},{array:t,flag:e}))}},{key:"render",value:function(){return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(j,{}),Object(b.jsxs)("main",{children:[Object(b.jsx)(T,{historyHandler:this.handleHistory,after:this.afterSubmit,arr:this.state.array,flag:this.state.flag}),Object(b.jsx)(g,{handler:this.handleForm,meth:this.state.method,ur:this.state.URL,bod:this.state.body,fl:this.state.flag}),Object(b.jsx)(C,{results:this.state.results,count:this.state.count,header:this.state.header})]}),Object(b.jsx)(p,{})]})}}]),n}(r.a.Component);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.c0f25433.chunk.js.map